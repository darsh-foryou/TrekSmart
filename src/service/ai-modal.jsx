import {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
} from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate a travel itenary for the destination: {ldelhi} for {3} days in the month of {march} \n  Traveler type: {2 people}, with a {luxury} budget. \n\nFirst, add a impressive,funny, descriptive description paragraph about delhi.\n\nThen give me the weather of delhi in the month of march, including:\n\nTemperature in celsius and emoji based in the temperature(â˜€ï¸/â˜ï¸/ğŸŒ§ï¸/â„ï¸)\n\nHumidity (ğŸ’§ %)\n\nMax Temperature (ğŸŒ¡ï¸ Â°C)\n\nMin Temperature (ğŸŒ¡ï¸ Â°C)\n\nFeels like (ğŸŒ¡ï¸ Â°C)\n\nSea Level (ğŸ—ºï¸ hPa)\n\nThen provide 5 top activities to look out for (\"Activity-name\" : \"Activity-place\")\n\nThen provide 3 luxury hotel recommendations with:\n\nHotel name ğŸ¨\n\nHotel address ğŸ“\n\nHotel average price per person ğŸ’µ\n\nHotel image URL ğŸ–¼ï¸\n\nGeocoding (Latitude & Longitude) ğŸ—ºï¸\n\nRating â­\n\nReason why suggesting that hotel ğŸ“\n\nThen give me 5 top places to visit with:\n\nName of the place ğŸï¸\n\nDescription of the place ğŸ“\n\nImage URL ğŸ–¼ï¸\n\nGeocoding (Latitude & Longitude) ğŸ—ºï¸\n\nThen create a detailed itinerary as:\n\nDay 0:\n\nMorning:\n\nAfternoon:\n\nEvening:\n\nNight: (Include specific visiting times when visiting any of the suggested places.)\n\nThen give me the top 5 best local cuisines with:\n\nThe dish ğŸ½ï¸\n\nThe best hotel/restaurant serving that cuisine ğŸ´\n\nHotel/restaurant address ğŸ“\n\nReason why it's the best ğŸ“\n\nThen give me one travel tip âœˆï¸\n\nThen give me 5 packing tips based on the climate of delhi in march, with relevant emojis (ğŸŒ¡ï¸â„ï¸â˜”ğŸ§¥ etc.)\n\nFinally, provide the overall travel expense for 2 people for 2 days (ğŸ§¾) with an estimate.\n\nOutput format:Respond in JSON format \ndescription : ... \nweather: ...\ntopActivities: ...\ntopPlacesToVisit: ...\nhotel-recommendation: ... \nitinerary: ...\nLocalCuisine: ...\ntravelTip: ...\npackingTips: ...\noverallTravelExpense: ...\nwith all the above information. Add emojis wherever necessary to make it more descriptive."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"description\": \"Delhi, a city so chaotic it makes a Bollywood dance-off look like a synchronized swimming routine! Prepare to be bombarded by a kaleidoscope of sights, sounds, and smells that will either leave you utterly bewildered or completely enchanted. From ancient monuments whispering tales of emperors and empires to bustling bazaars overflowing with everything you never knew you needed, Delhi is a sensory overload in the best possible way. Just remember to hold on tight, bargain hard, and maybe invest in a good pair of noise-canceling headphones â€“ you're in for a wild ride!\",\n  \"weather\": {\n    \"temperature\": \"â˜€ï¸ Mild and pleasant\",\n    \"humidity\": \"ğŸ’§ 50-60%\",\n    \"maxTemperature\": \"ğŸŒ¡ï¸ 30Â°C\",\n    \"minTemperature\": \"ğŸŒ¡ï¸ 15Â°C\",\n    \"feelsLike\": \"ğŸŒ¡ï¸ 28Â°C\",\n    \"seaLevel\": \"ğŸ—ºï¸ 1015 hPa\"\n  },\n  \"topActivities\": {\n    \"1\": {\n      \"Activity-name\": \"Explore Old Delhi's street food\",\n      \"Activity-place\": \"Chandni Chowk\"\n    },\n    \"2\": {\n      \"Activity-name\": \"Visit historical monuments\",\n      \"Activity-place\": \"Qutub Minar, Humayun's Tomb\"\n    },\n    \"3\": {\n      \"Activity-name\": \"Shop for handicrafts and textiles\",\n      \"Activity-place\": \"Dilli Haat\"\n    },\n    \"4\": {\n      \"Activity-name\": \"Attend a cultural performance\",\n      \"Activity-place\": \"Kamani Auditorium, Siri Fort Auditorium\"\n    },\n    \"5\": {\n      \"Activity-name\": \"Take a cooking class\",\n      \"Activity-place\": \"Multiple locations offer cooking classes\"\n    }\n  },\n  \"hotel-recommendation\": [\n    {\n      \"Hotel name ğŸ¨\": \"The Leela Palace New Delhi\",\n      \"Hotel address ğŸ“\": \"Chanakyapuri, New Delhi, Delhi 110021\",\n      \"Hotel average price per person ğŸ’µ\": \"â‚¹15,000 - â‚¹25,000\",\n      \"Hotel image URL ğŸ–¼ï¸\": \"https://www.theleela.com/content/dam/theleela/new-delhi/overview/TLND_Facade.jpg\",\n      \"Geocoding (Latitude & Longitude) ğŸ—ºï¸\": \"28.5848Â° N, 77.1890Â° E\",\n      \"Rating â­\": \"5/5\",\n      \"Reason why suggesting that hotel ğŸ“\": \"Opulent interiors, impeccable service, and award-winning restaurants make it a top choice for luxury travelers.\"\n    },\n    {\n      \"Hotel name ğŸ¨\": \"The Oberoi, New Delhi\",\n      \"Hotel address ğŸ“\": \"Dr. Zakir Hussain Marg, New Delhi, Delhi 110003\",\n      \"Hotel average price per person ğŸ’µ\": \"â‚¹18,000 - â‚¹30,000\",\n      \"Hotel image URL ğŸ–¼ï¸\": \"https://www.oberoihotels.com/oberoi_newdelhi/images/newdelhi-large.jpg\",\n      \"Geocoding (Latitude & Longitude) ğŸ—ºï¸\": \"28.6001Â° N, 77.2358Â° E\",\n      \"Rating â­\": \"5/5\",\n      \"Reason why suggesting that hotel ğŸ“\": \"Known for its elegant design, luxurious amenities, and exceptional hospitality. Recently renovated.\"\n    },\n    {\n      \"Hotel name ğŸ¨\": \"Taj Palace, New Delhi\",\n      \"Hotel address ğŸ“\": \"Sardar Patel Marg, Diplomatic Enclave, New Delhi, Delhi 110021\",\n      \"Hotel average price per person ğŸ’µ\": \"â‚¹12,000 - â‚¹20,000\",\n      \"Hotel image URL ğŸ–¼ï¸\": \"https://www.tajhotels.com/content/dam/tajhotels/hotels/asia/india/new-delhi/taj-palace/images/facade-new.jpg\",\n      \"Geocoding (Latitude & Longitude) ğŸ—ºï¸\": \"28.5941Â° N, 77.1702Â° E\",\n      \"Rating â­\": \"5/5\",\n      \"Reason why suggesting that hotel ğŸ“\": \"A grand hotel with lush gardens, a wide range of dining options, and a relaxing spa.\"\n    }\n  ],\n  \"topPlacesToVisit\": [\n    {\n      \"Name of the place ğŸï¸\": \"Qutub Minar\",\n      \"Description of the place ğŸ“\": \"A UNESCO World Heritage Site, this towering minaret is a stunning example of Indo-Islamic architecture.\",\n      \"Image URL ğŸ–¼ï¸\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Qutub_Minar_New_Delhi_India.jpg/1200px-Qutub_Minar_New_Delhi_India.jpg\",\n      \"Geocoding (Latitude & Longitude) ğŸ—ºï¸\": \"28.5245Â° N, 77.1856Â° E\"\n    },\n    {\n      \"Name of the place ğŸï¸\": \"Humayun's Tomb\",\n      \"Description of the place ğŸ“\": \"A precursor to the Taj Mahal, this magnificent tomb is a beautiful example of Mughal architecture.\",\n      \"Image URL ğŸ–¼ï¸\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Humayun%27s_tomb_new_delhi_india.jpg/1200px-Humayun%27s_tomb_new_delhi_india.jpg\",\n      \"Geocoding (Latitude & Longitude) ğŸ—ºï¸\": \"28.5931Â° N, 77.2507Â° E\"\n    },\n    {\n      \"Name of the place ğŸï¸\": \"India Gate\",\n      \"Description of the place ğŸ“\": \"A war memorial dedicated to Indian soldiers who died in World War I. An iconic landmark.\",\n      \"Image URL ğŸ–¼ï¸\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/India_Gate_Delhi.JPG/1280px-India_Gate_Delhi.JPG\",\n      \"Geocoding (Latitude & Longitude) ğŸ—ºï¸\": \"28.6129Â° N, 77.2295Â° E\"\n    },\n    {\n      \"Name of the place ğŸï¸\": \"Red Fort\",\n      \"Description of the place ğŸ“\": \"A historic fort built by Mughal emperor Shah Jahan. A UNESCO World Heritage Site.\",\n      \"Image URL ğŸ–¼ï¸\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Red_Fort_Delhi_India_Front.jpg/1280px-Red_Fort_Delhi_India_Front.jpg\",\n      \"Geocoding (Latitude & Longitude) ğŸ—ºï¸\": \"28.6562Â° N, 77.2399Â° E\"\n    },\n    {\n      \"Name of the place ğŸï¸\": \"Lotus Temple\",\n      \"Description of the place ğŸ“\": \"A BahÃ¡Ê¼Ã­ House of Worship known for its distinctive lotus flower-like shape.\",\n      \"Image URL ğŸ–¼ï¸\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Lotus_Temple_at_night_New_Delhi.jpg/1280px-Lotus_Temple_at_night_New_Delhi.jpg\",\n      \"Geocoding (Latitude & Longitude) ğŸ—ºï¸\": \"28.5535Â° N, 77.2588Â° E\"\n    }\n  ],\n  \"itinerary\": {\n    \"Day 1\": {\n      \"Morning\": \"Arrive in Delhi and check into The Leela Palace New Delhi. Relax and enjoy the hotel's amenities.\",\n      \"Afternoon\": \"Visit Humayun's Tomb (12:00 PM - 2:00 PM). Explore the beautiful Mughal architecture and gardens.\",\n      \"Evening\": \"Enjoy high tea at The Imperial Hotel, followed by shopping at Khan Market.\",\n      \"Night\": \"Fine dining experience at Indian Accent, known for its innovative Indian cuisine.\"\n    },\n    \"Day 2\": {\n      \"Morning\": \"Visit Qutub Minar (9:00 AM - 11:00 AM). Explore the historical complex and marvel at the towering minaret.\",\n      \"Afternoon\": \"Explore Old Delhi. Take a rickshaw ride through Chandni Chowk and sample street food.\",\n      \"Evening\": \"Attend a classical Indian music performance at Kamani Auditorium.\",\n      \"Night\": \"Enjoy dinner at Bukhara, ITC Maurya, renowned for its North-West Frontier cuisine.\"\n    },\n    \"Day 3\": {\n      \"Morning\": \"Visit Red Fort (9:00 AM - 11:00 AM). Explore the historic fort and learn about its significance.\",\n      \"Afternoon\": \"Visit Lotus Temple (2:00 PM - 4:00 PM). Admire the unique architecture and enjoy the peaceful atmosphere.\",\n      \"Evening\": \"Relaxing spa treatment at your hotel.\",\n      \"Night\": \"Farewell dinner at Megu, The Leela Palace, known for its exquisite Japanese cuisine.\"\n    }\n  },\n  \"LocalCuisine\": [\n    {\n      \"The dish ğŸ½ï¸\": \"Butter Chicken\",\n      \"The best hotel/restaurant serving that cuisine ğŸ´\": \"Moti Mahal Delux\",\n      \"Hotel/restaurant address ğŸ“\": \"3704, Netaji Subhash Marg, Daryaganj, New Delhi, Delhi 110002\",\n      \"Reason why it's the best ğŸ“\": \"The inventors of butter chicken, Moti Mahal, still serve one of the best renditions of this classic dish.\"\n    },\n    {\n      \"The dish ğŸ½ï¸\": \"Biryani\",\n      \"The best hotel/restaurant serving that cuisine ğŸ´\": \"Deewan-e-Aam\",\n      \"Hotel/restaurant address ğŸ“\": \"Shop No. 58, 1st Floor, Main Market, Defence Colony, New Delhi, Delhi 110024\",\n      \"Reason why it's the best ğŸ“\": \"Located in Defence Colony known for the most authentic biryani.\"\n    },\n    {\n      \"The dish ğŸ½ï¸\": \"Chole Bhature\",\n      \"The best hotel/restaurant serving that cuisine ğŸ´\": \"Sita Ram Diwan Chand\",\n      \"Hotel/restaurant address ğŸ“\": \"2243, Chuna Mandi, Paharganj, New Delhi, Delhi 110055\",\n      \"Reason why it's the best ğŸ“\": \"A legendary spot in Paharganj, serving the quintessential Delhi breakfast.\"\n    },\n    {\n      \"The dish ğŸ½ï¸\": \"Kebabs\",\n      \"The best hotel/restaurant serving that cuisine ğŸ´\": \"Al Kakori Al Kauser\",\n      \"Hotel/restaurant address ğŸ“\": \"R K Puram, Behind HDFC Bank, New Delhi\",\n      \"Reason why it's the best ğŸ“\": \"Known for Kakori Kebabs and other meat delights.\"\n    },\n    {\n      \"The dish ğŸ½ï¸\": \"Daal Makhani\",\n      \"The best hotel/restaurant serving that cuisine ğŸ´\": \"Bukhara, ITC Maurya\",\n      \"Hotel/restaurant address ğŸ“\": \"ITC Maurya, Diplomatic Enclave, Sardar Patel Marg, New Delhi, Delhi 110021\",\n      \"Reason why it's the best ğŸ“\": \"Arguably the best Daal Makhani in the world, cooked overnight in a traditional tandoor.\"\n    }\n  ],\n  \"travelTip\": \"Bargain aggressively when shopping in local markets. It's expected and can save you a significant amount of money. Keep small denomination bills for easier transactions.\",\n  \"packingTips\": [\n    \"Light cotton clothing ğŸ‘•: March is warm, so pack breathable fabrics.\",\n    \"Sunglasses ğŸ˜: Protect your eyes from the sun.\",\n    \"Sunscreen ğŸ§´: Essential for sun protection.\",\n    \"Comfortable walking shoes ğŸ‘Ÿ: You'll be doing a lot of walking!\",\n    \"Light scarf or shawl ğŸ§£: Useful for covering your head in religious sites or protecting yourself from dust.\"\n  ],\n  \"overallTravelExpense\": {\n    \"flights\": \"â‚¹50,000 - â‚¹80,000\",\n    \"hotel\": \"â‚¹72,000 - â‚¹180,000 (for 3 nights)\",\n    \"food\": \"â‚¹30,000 - â‚¹50,000\",\n    \"activities_and_transportation\": \"â‚¹20,000 - â‚¹30,000\",\n    \"miscellaneous\": \"â‚¹10,000\",\n    \"total\": \"â‚¹182,000 - â‚¹350,000\"\n  }\n}\n```"},
          ],
        },
      ],
    });